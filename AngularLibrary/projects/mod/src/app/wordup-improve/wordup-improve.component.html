<button class="quickBtn CR" (click)="searchWordMark()">æ‡µ</button>
<button class="quickBtn CB" (click)="openBlankUrl('https://dictionary.cambridge.org/dictionary/english-chinese-traditional/')">åŠ</button>
<button class="quickBtn EP" (click)="copySelectedText('ä½ ç¾åœ¨è¦æ‰®æ¼”ä¸€ä½è‹±æ–‡å°å¸«ï¼Œéœ€è¦ç”¨ä¸­æ–‡è§£é‡‹æ¥ä¸‹ä¾†æå•çš„å¥å­ï¼Œæœ€å¥½æ˜¯å¯ä»¥æ‹†è§£å¥å­æ–‡æ³•è¾­æºï¼Œä»¥åŠç‚ºä½•è¦é€™æ¨£ä½¿ç”¨èªå¥ï¼Œä¸¦ä¸”æä¾›ç™¼éŸ³åŠæŠ€å·§ã€‚')">è§£</button>
<button class="quickBtn BT" (click)="commonService.goToAnchor(backToTopDOM)">ğŸ”</button>

<!-- <mod-chinese-model></mod-chinese-model> -->

<div class="box" [style.display]="(editedCards.displayAddNewCard || firebaseAuth.isEnterRegistPage) ? 'none' : 'flex'"
  (window:resize)="onResize($event)" #backToTop>
  <div class="toolBox">
    <button class="answerScoreResetBtn" *ngIf="displayMode !== DisplayMode.Answer" (click)="seeAnswer()">
      <span class="userCantSelect">{{ displayMode }}</span>
      <span *ngIf="config?.keyboardControl?.seeAnswer">({{config.keyboardControl?.seeAnswer}})</span>
    </button>
    <ng-container *ngIf="displayMode === DisplayMode.Answer">
      <button (click)="interposer(true)">
        <span class="userCantSelect">æœƒ + {{ familiarScore }}</span>
        <span
          *ngIf="config?.keyboardControl?.answerScoreResetTrue">({{config.keyboardControl?.answerScoreResetTrue}})</span>
      </button>
      <button (click)="interposer(false)">
        <span class="userCantSelect">ä¸æœƒ {{ notFamiliarScore }}</span>
        <span
          *ngIf="config?.keyboardControl?.answerScoreResetFalse">({{config.keyboardControl?.answerScoreResetFalse}})</span>
      </button>
    </ng-container>
  </div>

  <div class="cardBox">
    <div *ngIf="card">
      <span class="subInfo userCantSelect">
        Scoreï¼š{{ card.score }} ({{maxNegativeScoreIndex + 1}}),
        <span>
          {{ card.updateTime.days }} d / {{ card.updateTime.hours }} h /{{ card.updateTime.minutes }} m,
        </span>
      </span>
      <span>
        (å–®)
        <lib-svg [src]="'./assets/enHelper/audio.svg'" (click)="speakMsg(card.en)"></lib-svg>
        <span *ngIf="config?.keyboardControl?.speakMsgWord">({{config.keyboardControl?.speakMsgWord}})</span>
        (å¥)
        <lib-svg [src]="'./assets/enHelper/audio.svg'" (click)="speakMsg(sentence?.en)"></lib-svg>
        <span *ngIf="config?.keyboardControl?.speakMsgSentence">({{config.keyboardControl?.speakMsgSentence}})</span>
      </span>
      <hr />
      <p [innerHtml]="sentence?.en | highlight : card.en : REGEXP_TYPE.First"></p>
      <ng-container *ngIf="displayMode === DisplayMode.Answer">
        <p>
          <ng-container *ngIf="sentenceAnswerDisplay">
            <p [innerHtml]="sentence?.cn"></p>
          </ng-container>
        </p>
        <button *ngIf="sentenceAnswerDisplay && card.sentences.length > 1" (click)="drawSentence()">
          æ›´å¤šä¾‹å¥ ({{ card.sentences.length }})
          <span *ngIf="config?.keyboardControl?.drawSentence">({{config.keyboardControl?.drawSentence}})</span>
        </button>
        <button *ngIf="!sentenceAnswerDisplay" (click)="showExanpleAnswers()">
          ä¾‹å¥ç­”æ¡ˆ
          <span
            *ngIf="config?.keyboardControl?.showExanpleAnswers">({{config.keyboardControl?.showExanpleAnswers}})</span>
        </button>
        <ng-container *ngIf="sentenceAnswerDisplay">
          <hr />
          <p>{{ card.en }}</p>
          <p>
            <ng-container *ngIf="editedCards.notEditMode else editMode">
              {{ card.cn }}
            </ng-container>
            <ng-template #editMode>
              <input [(ngModel)]="card.cn" />
              <lib-svg [src]="'./assets/enHelper/ok.svg'" (click)="updateCnEdite(card)"></lib-svg>
            </ng-template>
            <lib-svg [src]="'./assets/enHelper/edit.svg'"
              (click)="editedCards.notEditMode = !editedCards.notEditMode"></lib-svg>
          </p>
          <div style="display:flex;">
            <details style="width: 50%;">
              <summary class="subInfo userCantSelect" style="cursor: pointer;">è‹±æ–‡ç›¸ä¼¼å–®å­—</summary>
              <ul *ngFor="let i of this.findSameWordsObj.en">
                <li>[{{i.en}}]{{i.cn}}</li>
              </ul>
            </details>
            <details style="width: 50%;">
              <summary class="subInfo userCantSelect" style="cursor: pointer;">ä¸­æ–‡ç›¸ä¼¼å–®å­—</summary>
              <ul *ngFor="let i of this.findSameWordsObj.cn">
                <li>[{{i.en}}]{{i.cn}}</li>
              </ul>
            </details>
          </div>
        </ng-container>
      </ng-container>

      <hr />

      <div class="trackingInfo">
        <p class="subInfo userCantSelect">
          ç¶“é {{ seconds }} ç§’ï¼Œæœªè¤‡ç¿’ï¼š{{this.familiarity.notReviewed}}
          <lib-svg [src]="'./assets/enHelper/audio.svg'" (click)="setSpeakSelection()"></lib-svg>
        </p>
        <p class="subInfo userCantSelect" *ngIf="this.record?.avgAnswerSpeed?.length > 0">
          å¹³å‡ç­”é¡Œé€Ÿåº¦ï¼š {{this.record?.avgAnswerSpeedDisplay}} /s
        </p>
        <p class="subInfo userCantSelect">
          (æ¯æ—¥ {{ config.answerCountToday?.count }} / æœ€å¤§ {{ config.answerCountAll }} ) ç­”é¡Œ
        </p>
        <p class="subInfo userCantSelect">
          (å¹³å‡ {{ answerScoreAverage }} /æœ€å¤§ {{ maxNegativeScore }} ) éŒ¯èª¤åˆ†æ•¸
        </p>
      </div>

      <div class="iframeContainer" *ngIf="viewIframeImg">
        <iframe class="iframeResponsive" [src]="imgSearchUrl" target="_parent"></iframe>
      </div>

      <hr />

      <div>
        <input autocomplete="new-password" type="text" [(ngModel)]="searchWord.word" #searchWordInput
          (click)="keyboardControl = false" />
        <button (click)="searchWordMark()">
          <span class="userCantSelect">æœå°‹å–®å­—è¨»è¨˜ä¸æœƒ</span>
        </button>
        <br>
        <p [innerHTML]="searchWord?.display"></p>
        <p>{{ searchWord?.explain }}</p>
        <p *ngIf="searchWord?.score">
          Scoreï¼š ( {{ searchWord?.score - searchWord.notFamiliarScore }} {{searchWord.notFamiliarScore}} ) = {{
          searchWord?.score }}
          <span> ,
            {{ searchWord?.updateTime?.days }} d /
            {{ searchWord?.updateTime?.hours }} h /
            {{ searchWord?.updateTime?.minutes }} m
          </span>
        </p>
        <hr *ngIf="searchWord?.similarWords" />
        <p style="max-width:70rem;">{{ searchWord?.similarWords }}</p>
        <div class="button-container">
          <button (click)="openBlankUrl('https://dictionary.cambridge.org/dictionary/english-chinese-traditional/')">
            <span class="userCantSelect">åŠæ©‹</span>
          </button>
          <button
            (click)="additionalFeatures('https://www.google.com/search?sca_esv=1ddba70af590f790&sca_upv=1&igu=1&q=','&udm=2&fbs=AEQNm0DVrIRjdA3gRKfJJ-deMT8ZtYOjoIt1NWOMRkEKym4u5PkAZgxJOmIgPx6WieMhF6q1Hq7W6nME2Vp0eHuijF3ZElaTgD0zbj1gkQrti2r6HpgEQJ__FI2P2zVbzOTQnx-xQGuWfPA7_LjHL8X54xCjPigLtLX638JLYGhCvRlpvvGBo-fNpc7q_rU8dgffCadMYeMgxPqmupqDpgcFpVxKo2EBMA&sa=X&ved=2ahUKEwj91ZGlkuCIAxU4cPUHHd29CMAQtKgLegQIEhAB&biw=1920&bih=919&dpr=1')">
            <span class="userCantSelect">åœ–ç‰‡</span>
          </button>
          <button (click)="copySelectedText('é€å­—è§£é‡‹')">
            <span class="userCantSelect">é€å­—è§£é‡‹</span>
          </button>
          <button (click)="copySelectedText('å¦‚ä½•è¨˜æ†¶å–®å­—')">
            <span class="userCantSelect">å¦‚ä½•è¨˜æ†¶</span>
          </button>
          <!-- <button (click)="additionalFeatures('https://www.google.com/search?igu=1&?igu=1&q=Synonyms+')">
            <span class="userCantSelect">åŒç¾©è© Synonyms</span>
          </button>
          <button (click)="additionalFeatures('https://www.google.com/search?igu=1&?q=Antonyms+')">
            <span class="userCantSelect">åç¾©è© Antonyms</span>
          </button> -->
        </div>
      </div>
    </div>
  </div>

  <hr />

  <ng-container *ngIf="debugDisplay">
    <p>20 åˆ†é˜ä»¥å…§ {{familiarity.twentyMinutes}}</p>
    <p>1 å¤©ä»¥å…§ {{familiarity.oneHour}}</p>
    <p>ä»‹æ–¼ 1 ~ 7 å¤© {{familiarity.oneDay}}</p>
    <p>ä»‹æ–¼ 7 ~ 30 å¤© {{familiarity.sevenDays}}</p>
    <p>å¤§æ–¼ 30 å¤© {{familiarity.oneMonth}}</p>
    <hr>
    <p>å–®å­—å¡æ•¸é‡ {{familiarity.total}}</p>
    <p>æœªè¤‡ç¿’åˆ° {{familiarity.notReviewed}}</p>
    <p>è¶…ä¸ç†Ÿæ‚‰ {{familiarity.veryUnfamiliar}}</p>
    <p>ä¸ç†Ÿæ‚‰ {{familiarity.unfamiliar}}</p>
    <p>ç†Ÿæ‚‰ {{familiarity.familiar}}</p>
    <p>è¶…ç†Ÿæ‚‰ {{familiarity.veryFamiliar}}</p>

    <ng-container *ngIf="debug?.list?.length > 0">
      <hr>
      <table>
        <thead>
          <th colspan="7">
            é ­çé–€æª»ï¼š{{ debug?.thresholdScore }} / å¹³å‡æŠ½å–æ¬¡æ•¸
            {{ record?.drawCountRecordDisplay }} / å¹³å‡é–€æª»
            {{ record?.finalScoreRecordDisplay }} / å¹³å‡åˆ†æ•¸
            {{ record?.finalScoreRecordDisplay / record?.drawCountRecordDisplay | floor }}
          </th>
        </thead>
        <tbody>
          <td data-th="æŠ½å–æ¬¡æ•¸">æŠ½å–æ¬¡æ•¸</td>
          <td data-th="æŠ½åˆ°çš„å–®å­—">æŠ½åˆ°çš„å–®å­—</td>
          <td data-th="æœ€çµ‚åˆ†æ•¸">æœ€çµ‚åˆ†æ•¸</td>
          <td data-th="åŠ æ¬Šåˆ†æ•¸">åŠ æ¬Šåˆ†æ•¸</td>
          <td data-th="å¥å­é »ç‡æ¬¡æ•¸">å¥å­é »ç‡æ¬¡æ•¸</td>
          <td data-th="ç­”é¡Œåˆ†æ•¸">ç­”é¡Œåˆ†æ•¸</td>
          <td data-th="ä¸Šæ¬¡ç­”é¡Œæ™‚é–“">ä¸Šæ¬¡ç­”é¡Œæ™‚é–“</td>
        </tbody>
        <tr *ngFor="let item of debug?.list">
          <td data-th="æŠ½å–æ¬¡æ•¸">{{ item?.drawCount }}</td>
          <td data-th="æŠ½åˆ°çš„å–®å­—">{{ item?.en }}</td>
          <td data-th="æœ€çµ‚åˆ†æ•¸">{{ item?.finalScore }}</td>
          <td data-th="åŠ æ¬Šåˆ†æ•¸">
            <span *ngIf="item?.noAnsRandomScore else ansRandomScore">
              æœªç­”é¡Œ {{ item?.noAnsRandomScore }}
            </span>
            <ng-template #ansRandomScore>
              ç­”é¡Œ {{ item?.ansScore }} / æ™‚é–“ {{ item?.timeDiffeScore }}
            </ng-template>
            => {{ item?.weightedScore }}
          </td>
          <td data-th="å¥å­é »ç‡æ¬¡æ•¸">{{ item?.sentencesLength }}</td>
          <td data-th="ç­”é¡Œåˆ†æ•¸">{{ item?.score }}</td>
          <td data-th="ä¸Šæ¬¡ç­”é¡Œæ™‚é–“">
            {{ item?.updateTime?.days }} d /
            {{ item?.updateTime?.hours }} h /
            {{ item?.updateTime?.minutes }} m
          </td>
        </tr>
        <tfoot></tfoot>
      </table>
      <div class="list">
        <p>é ­çé–€æª»ï¼š{{ debug?.thresholdScore }}</p>
        <p>å¹³å‡æŠ½å–æ¬¡æ•¸ {{ record?.drawCountRecordDisplay }}</p>
        <p>å¹³å‡é–€æª» {{ record?.finalScoreRecordDisplay }}</p>
        <ol *ngFor="let item of debug?.list" style="border: 1px solid #ccc">
          <li>æŠ½å–æ¬¡æ•¸ï¼š{{ item?.drawCount }}</li>
          <li>æŠ½åˆ°çš„å–®å­—ï¼š{{ item?.en }}</li>
          <li>æœ€çµ‚åˆ†æ•¸ï¼š{{ item?.finalScore }}</li>
          <li>åŠ æ¬Šåˆ†æ•¸ï¼š{{ item?.weightedScore }}</li>
          <li>å¥å­é »ç‡æ¬¡æ•¸ï¼š{{ item?.sentencesLength }}</li>
          <li>ç­”é¡Œåˆ†æ•¸ï¼š{{ item?.score }}</li>
          <li>
            ä¸Šæ¬¡ç­”é¡Œæ™‚é–“ï¼š
            {{ item?.updateTime?.days }} d /
            {{ item?.updateTime?.hours }} h /
            {{ item?.updateTime?.minutes }} m
          </li>
        </ol>
      </div>
    </ng-container>
    <hr style="width: 95%" />
  </ng-container>

  <ng-container *ngIf="displayUnfamiliar">

    <div>
      <button class="unobviousBtn" (click)="sortByMostNegative()">
        ä¾ç…§è² åˆ†æœ€å¤šæ’åˆ—
      </button>

      <button class="unobviousBtn" (click)="unfamiliarReflash()">
        ä¾ç…§å¤©æ•¸è² åˆ†å…¼å®¹æ’åˆ—
      </button>
    </div>

    <table>
      <tbody>
        <td></td>
        <td>é¡¯ç¤ºä¸­æ–‡</td>
        <td data-th="åŠ æ¬Šåˆ†æ•¸">åŠ æ¬Šåˆ†æ•¸</td>
        <td data-th="è‹±æ–‡">è‹±æ–‡</td>
        <td data-th="å¥å­é »ç‡æ¬¡æ•¸">å¥å­é »ç‡æ¬¡æ•¸</td>
        <td data-th="ç­”é¡Œåˆ†æ•¸">ç­”é¡Œåˆ†æ•¸</td>
        <td data-th="ä¸Šæ¬¡ç­”é¡Œæ™‚é–“">ä¸Šæ¬¡ç­”é¡Œæ™‚é–“</td>
        <td data-th="ä¸­æ–‡" style="min-width: 20rem">ä¸­æ–‡</td>
      </tbody>
      <tr *ngFor="let item of unfamiliarList;let i = index;">
        <td>{{i + 1}}</td>
        <td>
          <button class="unobviousBtn" (click)="setUnfamiliarDisplayAnswer(item)">
            çœ‹ç­”æ¡ˆ
          </button>
        </td>
        <td data-th="åŠ æ¬Šåˆ†æ•¸">{{ (item?.score * 1.3) - item?.updateTime?.days }}</td>
        <td data-th="è‹±æ–‡">{{ item?.en }}</td>
        <td data-th="å¥å­é »ç‡æ¬¡æ•¸">{{ item?.sentencesLength }}</td>
        <td data-th="ç­”é¡Œåˆ†æ•¸">
          <button class="unobviousBtn" (click)="answerUnfamiliarScoreReset(true, item?.en)">+</button>
          {{ item?.score }}
          <button class="unobviousBtn" (click)="answerUnfamiliarScoreReset(false, item?.en)">-</button>
        </td>
        <td data-th="ä¸Šæ¬¡ç­”é¡Œæ™‚é–“">
          {{ item?.updateTime?.days }} d /
          {{ item?.updateTime?.hours }} h /
          {{ item?.updateTime?.minutes }} m
        </td>
        <td data-th="ä¸­æ–‡">
          <ng-container *ngIf="item?.displayAnswer">
            {{ item?.cn }}
          </ng-container>
        </td>
      </tr>
    </table>

    <div class="list">
      <ol *ngFor="let item of unfamiliarList;let i = index;" style="border: 1px solid #ccc">
        <li>{{i + 1}}</li>
        <li>
          <button class="unobviousBtn" (click)="setUnfamiliarDisplayAnswer(item)">
            çœ‹ç­”æ¡ˆ
          </button>
        </li>
        <li>åŠ æ¬Šåˆ†æ•¸ï¼š{{ (item?.score * 1.3) - item?.updateTime?.days }}</li>
        <li>è‹±æ–‡ï¼š{{ item?.en }}</li>
        <li>å¥å­é »ç‡æ¬¡æ•¸ï¼š{{ item?.sentencesLength }}</li>
        <li>ç­”é¡Œåˆ†æ•¸ï¼š
          <button style="min-width: unset;" (click)="answerUnfamiliarScoreReset(true, item?.en)">+</button>
          {{ item?.score }}
          <button style="min-width: unset;" (click)="answerUnfamiliarScoreReset(false, item?.en)">-</button>
        </li>
        <li>
          ä¸Šæ¬¡ç­”é¡Œæ™‚é–“ï¼š
          {{ item?.updateTime?.days }} d /
          {{ item?.updateTime?.hours }} h /
          {{ item?.updateTime?.minutes }} m
        </li>
        <li>
          ä¸­æ–‡ï¼š
          <ng-container *ngIf="item?.displayAnswer">
            {{ item?.cn }}
          </ng-container>
        </li>
      </ol>
    </div>

    <hr />
  </ng-container>

  <div>
    <input autocomplete="new-password" type="text" [(ngModel)]="searchChineseObj.word"
      (click)="keyboardControl = false" />
    <button (click)="searchChinese()">
      <span class="userCantSelect">æœå°‹ä¸­æ–‡ç›¸ä¼¼å–®å­—</span>
    </button>
    <p>{{ searchChineseObj.similarWords }}</p>
    <button (click)="editedCards.displayAddNewCard = !editedCards.displayAddNewCard;keyboardControl = false;">
      <span class="userCantSelect">æ–°å¢æ–°å¡ç‰‡</span>
    </button>
  </div>

  <hr>

  <div style="max-width: 85vw">
    <div>
      <button class="unobviousBtn" (click)="enterRegistPage()">è¨»å†Šç™»å…¥</button>
      <button class="unobviousBtn" (click)="setTheme()">åˆ‡æ›é»‘ç™½æ¨¡å¼</button>
      <br />
      <button class="unobviousBtn" (click)="clickDebug()">Debug</button>
      <button class="unobviousBtn" (click)="this.displayUnfamiliar = !this.displayUnfamiliar;">
        ä¸ç†Ÿæ¦œ
      </button>
      <button class="unobviousBtn" (click)="keyboardControl = !keyboardControl">å°ˆæ³¨éµç›¤æ¨¡å¼ ({{ keyboardControl }})</button>
    </div>
    <!-- <canvas id="canvas">{{ chart }}</canvas> -->
    <div style="display: flex; flex-direction: column; align-items: center" *ngIf="debugDisplay">
      <hr />
      <p>
        Configï¼š<button class="unobviousBtn" (click)="importConfig()">
          æ›´æ”¹è¨­å®šæª”
        </button>
      </p>
      <!-- <textarea [(ngModel)]="configDisplay"></textarea> -->
      <label for="speakRate">èªéŸ³èªé€Ÿ</label>
      <input id="speakRate" type="range" [(ngModel)]="config.speakRate" min="0.5" max="2" value="1" step="0.1" />
      <label for="speakVolume">èªéŸ³è²é‡</label>
      <input id="speakVolume" type="range" [(ngModel)]="config.speakVolume" min="1" max="10" value="10" />
      <label for="speakTimes">æ’­æ”¾æ¬¡æ•¸</label>
      <input id="speakTimes" type="range" [(ngModel)]="config.speakTimes" min="1" max="10" value="10" />
      <label for="seeAnswerSpeak">çœ‹ç­”æ¡ˆå¿µå¥å­</label>
      <input id="seeAnswerSpeak" type="checkbox" [(ngModel)]="config.seeAnswerSpeak" />
      <label for="autoUpdateLog">è‡ªå‹•ä¸Šå‚³é ç«¯ç´€éŒ„</label>
      <input id="autoUpdateLog" type="checkbox" [(ngModel)]="config.autoUpdateLog" />
      <label for="dayScore">ç­”é¡Œæ—¥æœŸåŠ æ¬Šåˆ†æ•¸</label>
      <input id="dayScore" [(ngModel)]="config.dayScore" />
      <label for="questionsScore">éŒ¯èª¤åŠ æ¬Šåˆ†æ•¸</label>
      <input id="questionsScore" [(ngModel)]="config.questionsScore" />
      <label>æŠ½ç±¤æ¨¡å¼</label>
      <div class="drawMode">
        <input [(ngModel)]="config.drawMode" id="errorFirst" type="radio" name="drawMode" value="errorFirst" />
        <label for="errorFirst">éŒ¯èª¤å„ªå…ˆ</label>
        <input [(ngModel)]="config.drawMode" id="completelyRandom" type="radio" name="drawMode"
          value="completelyRandom" />
        <label for="completelyRandom">å®Œå…¨éš¨æ©Ÿ</label>
        <input [(ngModel)]="config.drawMode" id="unfamiliarFirst" type="radio" name="drawMode"
        value="unfamiliarFirst" />
        <label for="unfamiliarFirst">æ²’çœ‹éå„ªå…ˆ</label>
      </div>
      <label for="unfamiliarSortingHours">æ’åºç„¡è¦–æ™‚é–“ (-1 => ç„¡, 0 = ç„¡è¦– 1 å°æ™‚)</label>
      <input id="unfamiliarSortingHours" type="number" [(ngModel)]="config.unfamiliarSortingHours" />
      <label for="unfamiliarSortingMinutes">æ’åºç„¡è¦–æ™‚é–“ (-1 => ç„¡, 0 = ç„¡è¦– 1 åˆ†é˜)</label>
      <input id="unfamiliarSortingMinutes" type="number" [(ngModel)]="config.unfamiliarSortingMinutes" />
      <label for="autoDrawSeconds">è‡ªå‹•æŠ½å–ç§’æ•¸</label>
      <input id="autoDrawSeconds" type="number" [(ngModel)]="config.autoDrawSeconds" />
      <button type="button" (click)="automaticDrawCard()">è‡ªå‹•æŠ½å–</button>
      <button class="unobviousBtn" (click)="resetAnswerScore()">æ¸…ç©ºç´€éŒ„</button>
      <button class="unobviousBtn" (click)="clickImExport()">åŒ¯å‡ºåŒ¯å…¥</button>
      <div *ngIf="isExportAnswerScore" style="display: flex; flex-direction: column">
        <textarea [(ngModel)]="answerScoreDisplay"></textarea>
        <button class="unobviousBtn" (click)="importAnswerScore()">åŒ¯å…¥</button>
        <hr style="width: 95%" />
      </div>
      <div *ngIf="voices.length > 0">
        <p>æœ—è®€èªè¨€é¸æ“‡</p>
        <ul>
          <li *ngFor="let voice of voices">
            <input [(ngModel)]="config.speakSelectVoice" [value]="voice?.name" style="margin: 1rem;" [id]="voice?.name"
              type="radio" name="speakSelectVoice" />
            <label [for]="voice?.name">{{voice?.name}}</label>
          </li>
        </ul>
      </div>
      <p>éµç›¤å¿«æ·éµè¨­å®š</p>
      <label for="seeAnswer">çœ‹ç­”æ¡ˆ</label>
      <input id="seeAnswer" [(ngModel)]="config.keyboardControl.seeAnswer" placeholder="seeAnswer" value="a" />
      <label for="answerScoreResetTrue">æœƒ</label>
      <input id="answerScoreResetTrue" [(ngModel)]="config.keyboardControl.answerScoreResetTrue"
        placeholder="answerScoreResetTrue" value="s" />
      <label for="answerScoreResetFalse">ä¸æœƒ</label>
      <input id="answerScoreResetFalse" [(ngModel)]="config.keyboardControl.answerScoreResetFalse"
        placeholder="answerScoreResetFalse" value="d" />
      <label for="drawSentence">æ›´å¤šä¾‹å¥</label>
      <input id="drawSentence" [(ngModel)]="config.keyboardControl.drawSentence" placeholder="drawSentence" value="f" />
      <label for="showExanpleAnswers">ä¾‹å¥ç­”æ¡ˆ</label>
      <input id="showExanpleAnswers" [(ngModel)]="config.keyboardControl.showExanpleAnswers"
        placeholder="showExanpleAnswers" value="g" />
      <label for="speakMsgWord">å¿µå–®å­—</label>
      <input id="speakMsgWord" [(ngModel)]="config.keyboardControl.speakMsgWord" placeholder="speakMsgWord" value="q" />
      <label for="speakMsgSentence">å¿µå¥å­</label>
      <input id="speakMsgSentence" [(ngModel)]="config.keyboardControl.speakMsgSentence" placeholder="speakMsgSentence"
        value="w" />
    </div>
  </div>

</div>

<div class="login" [style.display]="firebaseAuth.isEnterRegistPage ? 'block' : 'none'">
  <div style="display: flex;justify-content: center;">
    <table class="familiarityTable">
      <tbody>
        <td></td>
        <td data-th="æœªè¤‡ç¿’åˆ°">æœªè¤‡ç¿’åˆ°</td>
        <td data-th="è¶…ä¸ç†Ÿæ‚‰">è¶…ä¸ç†Ÿæ‚‰</td>
        <td data-th="ä¸ç†Ÿæ‚‰">ä¸ç†Ÿæ‚‰</td>
        <td data-th="ç†Ÿæ‚‰">ç†Ÿæ‚‰</td>
        <td data-th="è¶…ç†Ÿæ‚‰">è¶…ç†Ÿæ‚‰</td>
      </tbody>
      <tr>
        <td>Online</td>
        <!-- <td data-th="æœªè¤‡ç¿’åˆ°">{{tempFamiliarity.notReviewed}}</td>
        <td data-th="è¶…ä¸ç†Ÿæ‚‰">{{tempFamiliarity.veryUnfamiliar}}</td>
        <td data-th="ä¸ç†Ÿæ‚‰">{{tempFamiliarity.unfamiliar}}</td>
        <td data-th="ç†Ÿæ‚‰">{{tempFamiliarity.familiar}}</td>
        <td data-th="è¶…ç†Ÿæ‚‰">{{tempFamiliarity.veryFamiliar}}</td> -->
      </tr>
      <tr>
        <td>Local</td>
        <td data-th="æœªè¤‡ç¿’åˆ°">{{familiarity.notReviewed}}</td>
        <td data-th="è¶…ä¸ç†Ÿæ‚‰">{{familiarity.veryUnfamiliar}}</td>
        <td data-th="ä¸ç†Ÿæ‚‰">{{familiarity.unfamiliar}}</td>
        <td data-th="ç†Ÿæ‚‰">{{familiarity.familiar}}</td>
        <td data-th="è¶…ç†Ÿæ‚‰">{{familiarity.veryFamiliar}}</td>
      </tr>
    </table>
  </div>
  <div class="user" *ngIf="!(user$ | async);">
    <input autocomplete="new-password" type="email" placeholder="email" [(ngModel)]="firebaseAuth.email" />
    <input autocomplete="new-password" type="password" placeholder="password" [(ngModel)]="firebaseAuth.password" />
  </div>
  <p>
    <span>
      æœ€å¾Œ{{deviceCheckService.isMobile? 'æ‰‹æ©Ÿ': 'é›»è…¦'}}<ng-container
        *ngIf="isLastUpdate() else isLastDownload">ä¸Šå‚³</ng-container><ng-template #isLastDownload>ä¸‹è¼‰</ng-template>
    </span>, æœ€å¾Œä¸Šå‚³æ™‚é–“ {{this.lastUpdateLogTime}}, æœ€å¾Œä¸‹è¼‰æ™‚é–“ {{this.lastdownloadLogTime}}
  </p>
  <p class="info">
    ç¬¬ä¸€æ¬¡ä½¿ç”¨è«‹å…ˆè¨»å†Šå¸³è™Ÿï¼Œä¸¦å°‡æœ¬åœ°è³‡æ–™ä¸Šå‚³å³å¯æ›´æ–°æ¦œå–®èˆ‡ä½¿ç”¨ä¸‹è¼‰æœå‹™
  </p>
  <div>
    <ng-container *ngIf="(user$ | async); else unLogin">
      <button (click)="updateLog()">ä¸Šå‚³ç´€éŒ„</button>
      <button (click)="downloadLog()">ä¸‹è¼‰ç´€éŒ„</button>
      <button (click)="logout()">ç™»å‡º</button>
    </ng-container>
    <ng-template #unLogin>
      <button (click)="login()">ç™»å…¥</button>
      <button (click)="signUp()">è¨»å†Š</button>
    </ng-template>
    <button (click)="firebaseAuth.isEnterRegistPage = false">è¿”å›</button>
  </div>
</div>

<div style="flex-direction: column; align-items: center"
  [style.display]="editedCards.displayAddNewCard ? 'flex' : 'none'">
  <label for="cn">cn</label>
  <input autocomplete="off" type="text" id="cn" [(ngModel)]="editedCards?.card.cn[0]" />
  <label for="en">en</label>
  <input autocomplete="off" type="text" id="en" [(ngModel)]="editedCards.card.en" />
  <label for="sentencesCn">sentences cn</label>
  <input autocomplete="off" type="text" id="sentencesCn" [(ngModel)]="editedCards.card?.sentences[0].cn" />
  <label for="sentencesEn">sentences en</label>
  <input autocomplete="off" type="text" id="sentencesEn" [(ngModel)]="editedCards.card?.sentences[0].en" />
  <div>
    <button *ngIf="!editedCards.displayUpdateCnEdite" (click)="addNewCard()">
      <span class="userCantSelect">æ–°å¢</span>
    </button>
    <button *ngIf="editedCards.displayUpdateCnEdite" (click)="updateCnEdite(editedCards.card)">
      <span class="userCantSelect">æ›´æ–°ä¸­æ–‡</span>
    </button>
    <button (click)="cancelAddNewCard()">
      <span class="userCantSelect">å–æ¶ˆ</span>
    </button>
  </div>
  <p>æ–°å¡ç‰‡æ•¸é‡ï¼š{{editedCards.cards?.length}}</p>
  <hr>
  <button (click)="exportNewCards()">
    <span class="userCantSelect">åŒ¯å‡ºæ–°å¢å¡ç‰‡ {{editedCards.date}}</span>
  </button>
</div>
