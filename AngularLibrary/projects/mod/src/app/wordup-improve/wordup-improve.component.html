<div class="box"
  style="display:flex; align-items: center; justify-content: center;flex-direction: column;     padding-bottom: 3rem;"
  (window:resize)="onResize($event)">

  <div class="toolBox">
    <button *ngIf="displayMode !== DisplayMode.Answer"
      (click)="displayMode = DisplayMode.Answer;sentenceAnswerDisplay = true;">
      {{displayMode}}
    </button>
    <ng-container *ngIf="displayMode === DisplayMode.Answer">
      <button (click)="answerScoreReset(true)">會</button>
      <button (click)="answerScoreReset(false)">不會</button>
    </ng-container>
  </div>

  <p *ngIf="SUSS > 0">連續 {{SUSS}} 答題成功!!</p>
  <div style="padding: 1.5rem;">
    <div *ngIf="card">
      <p [innerHtml]="sentence?.en | highlight:card?.en:'full'"></p>
      <ng-container *ngIf="displayMode === DisplayMode.Answer">
        <p>
          <ng-container *ngIf="sentenceAnswerDisplay">
            <p [innerHtml]="sentence?.cn"></p>
          </ng-container>
        </p>
        <button *ngIf="sentenceAnswerDisplay" (click)="drawSentence()">更多例句</button>
        <button *ngIf="!sentenceAnswerDisplay" (click)="sentenceAnswerDisplay = true">例句答案</button>
        <hr>
        <p>{{card?.en}}</p>
        <p>{{card?.cn}}</p>
        <hr>
        <div>
          <input type="text" [(ngModel)]="searchWord" />
          <button (click)="searchWordMark()">搜尋單字註記不會</button>
          <p>{{searchWordDisplay}}</p>
          <p>{{searchWordExplain}}</p>
        </div>
      </ng-container>
    </div>
  </div>

  <div style="max-width: 50vw;">
    <hr>
    <div>
      <button class="unobviousBtn" (click)="resetAnswerScore()">清空紀錄</button>
      <button class="unobviousBtn" (click)="setTheme()">切換黑白模式</button>
      <br>
      <button class="unobviousBtn" (click)="clickDebug()">Debug</button>
      <button class="unobviousBtn" (click)="clickImExport()">匯出匯入</button>
    </div>
    <div *ngIf="isExportAnswerScore" style="display: flex;flex-direction: column;">
      <textarea [(ngModel)]="answerScoreDisplay"></textarea>
      <button class="unobviousBtn" (click)="importAnswerScore()">匯入</button>
    </div>
    <canvas id="canvas">{{chart}}</canvas>
    <div style="margin-top: 3rem;" *ngIf="debugDisplay">
      <hr>
      <p>Config：<button class="unobviousBtn" (click)="importConfig()">更改設定檔</button></p>
      <textarea [(ngModel)]="configDisplay"></textarea>
      <div style="font-size: 18px;line-height: 34px;margin-top: 3rem;" [innerHtml]="debug"></div>
    </div>
  </div>


</div>